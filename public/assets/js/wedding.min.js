if(wedding===undefined){var wedding={}}wedding.createPageMgr=function(){var a={weddingNavBarContainer:".wedding-nav-bar",weddingMenuContainerId:"#bs-example-navbar-collapse-1",weddingMenuButtonId:"#wedding-menu-button"};$(function(){$(a.weddingNavBarContainer+" a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var d=$(this.hash);d=d.length?d:$("[name="+this.hash.slice(1)+"]");if(d.length){if($(a.weddingMenuContainerId).hasClass("in")){$(a.weddingMenuButtonId).click()}$("html,body").animate({scrollTop:d.offset().top-50},500);return false}}})});function c(f,j,g){var h=new Date();h.setTime(h.getTime()+(g*24*60*60*1000));var e="expires="+h.toUTCString();document.cookie=f+"="+j+"; "+e}function b(f){var e=f+"=";var d=document.cookie.split(";");for(var g=0;g<d.length;g++){var h=d[g];while(h.charAt(0)==" "){h=h.substring(1)}if(h.indexOf(e)==0){return h.substring(e.length,h.length)}}return""}};wedding.initializeCarousel=function(){var f=[];f.push("assets/images/wedding-carousel-1.jpg");f.push("assets/images/wedding-carousel-2.jpg");f.push("assets/images/wedding-carousel-3.jpg");f.push("assets/images/wedding-carousel-4.jpg");f.push("assets/images/wedding-carousel-5.jpg");f.push("assets/images/wedding-carousel-6.jpg");f.push("assets/images/wedding-carousel-7.jpg");f.push("assets/images/wedding-carousel-8.jpg");f.push("assets/images/wedding-carousel-9.jpg");f.push("assets/images/wedding-carousel-10.jpg");f.push("assets/images/wedding-carousel-11.jpg");f.push("assets/images/wedding-carousel-12.jpg");f.push("assets/images/wedding-carousel-13.jpg");f.push("assets/images/wedding-carousel-14.jpg");f.push("assets/images/wedding-carousel-15.jpg");f.push("assets/images/wedding-carousel-16.jpg");var d=5;var b=$(".carousel-inner");var g=$(".carousel-indicators");for(var c=0;c<d;c++){var a=Math.floor(Math.random()*f.length);var h=f[a];f.splice(a,1);var j="<li data-target='#greeting-carousel' data-slide-to='"+c+"' class='"+(c===0?" active":"")+"'></li>";var e="<div class='item "+(c===0?" active":"")+"'>";e+="<img class='greeting-carousel-img'  src='"+h+"' alt='greeting "+c+1+"'></div>";g.append(j);b.append(e)}};var ngWeddingApp=angular.module("ngWeddingApp",[]);ngWeddingApp.controller("navBarController",["$scope",navBarController]);function navBarController(a){a.showPoll=function(){$("#wedding-poll").modal("toggle")};a.showDateRequest=function(){$("#wedding-request-date-justin").modal("toggle")};a.showMusicRequest=function(){$("#wedding-request-music").modal("toggle")};a.showDanceMoves=function(){$("#wedding-dance-moves").modal("toggle");var e=$(".wedding-dance-img-1");if(e.length===0){var c="<img  class='img-responsive wedding-dance-img-1' src='assets/images/amazing-dance-moves.gif'>";$("#wedding-dance-moves-container-1").prepend(c)}var b=$(".wedding-dance-video-1");if(b.length===0){var d="<video class='img-responsive wedding-dance-video-1' controls><source src='assets/video/dance2.mp4'/></video>";$("#wedding-dance-moves-container-2").prepend(d)}}}ngWeddingApp.controller("weddingSeatFinderController",["$scope","$http",weddingSeatFinderController]);function weddingSeatFinderController(a,b){a.seatingArrangement={};b.get("/api/seatingArrangement").success(function(c){a.seatingArrangement=c}).error(function(){console.log("error getting seating arrangements!!!!!!!!!")})}ngWeddingApp.controller("weddingModalController",["$scope","$http",weddingModalController]);function weddingModalController(b,h){b.weddingToast="";var a={};b.showPollFields={};b.pollQuestion;b.sendPollAnswer=function(){var j={};j.QID=b.pollQuestion._id;j.A=b.pollChosenAnswer;h.post("/api/pollResults",j).success(function(k){f("Thanks for participating in the poll");b.showPollFields.showPollQuestionsContainer=false;var l=g(k);d(l)}).error(function(k){console.log("Error: "+k)})};function d(o){var n={labels:["Mon","Tue","Wed","Thu","Fri"],series:[[5,2,4,2,0]]};var j={fullWidth:true,centerBars:false};var q={series:o.series};var m=function(s,r){return s+r};var l=o.series.reduce(m);var k=[];$.each(o.labels,function(r,s){k.push(s+" ("+Math.round(o.series[r]/l*100)+"%)")});q.labels=k;var p=[["screen and (min-width: 240px)",{chartPadding:15,labelOffset:30,labelDirection:"explode"}],["screen and (min-width: 468px)",{chartPadding:30,labelOffset:60,labelDirection:"explode"}],["screen and (min-width: 1024px)",{labelOffset:80,chartPadding:20,labelDirection:"explode"}]];new Chartist.Pie(".ct-chart",q,{},p)}function g(m){var k={};k.A1=0;k.A2=0;k.A3=0;k.A4=0;k.A5=0;var j={labels:[],series:[]};var l=[];var o=0;$.each(m,function(q,p){k[p.A]++});for(i=1;i<6;i++){var n="A"+i;if(b.pollQuestion[n]!==undefined){j.labels.push(b.pollQuestion[n]);j.series.push(k[n])}}return j}function c(){b.pollChosenAnswer="";b.showPollFields={};b.pollQuestion.imgSrc=(b.pollQuestion.imgSrc===undefined?"assets/images/poll-question-default.jpg":b.pollQuestion.imgSrc);b.showPollFields.Q=(b.pollQuestion.Q===undefined?false:true);b.showPollFields.A1=(b.pollQuestion.A1===undefined?false:true);b.showPollFields.A2=(b.pollQuestion.A2===undefined?false:true);b.showPollFields.A3=(b.pollQuestion.A3===undefined?false:true);b.showPollFields.A4=(b.pollQuestion.A4===undefined?false:true);b.showPollFields.A5=(b.pollQuestion.A5===undefined?false:true);b.showPollFields.showPollQuestionsContainer=true;b.showPollFields.showNextPollQuestionButton=true}function e(m){var l=m.length,k,j;while(0!==l){j=Math.floor(Math.random()*l);l-=1;k=m[l];m[l]=m[j];m[j]=k}return m}b.nextPollQuestion=function(){if(a.length>0){b.pollQuestion=a.pop();c();if(a.length===0){b.showPollFields.showNextPollQuestionButton=false}}};h.get("/api/pollQuestions").success(function(j){a=e(j);b.nextPollQuestion()}).error(function(){console.log("error getting poll questions!!!!!!!!!")});b.dateRequestData={};b.sendDateRequest=function(){$("#wedding-request-date-justin").modal("toggle");h.post("/api/dateRequests",b.dateRequestData).success(function(j){b.dateRequestData={};f("Justin thanks you for the date request! He will be so happy")}).error(function(j){console.log("Error: "+j)})};b.musicRequestData={};b.sendMusicRequest=function(){$("#wedding-request-music").modal("toggle");h.post("/api/musicRequests",b.musicRequestData).success(function(j){b.musicRequestData={};f("Thank you for the Music request!")}).error(function(j){console.log("Error: "+j)})};function f(l){var j=1000;var k=3000;b.weddingToast=l;$(".wedding-toast").hide().fadeIn(j).fadeOut(k)}};